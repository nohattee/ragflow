

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Core Module &mdash; RAGFlow Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pipelines" href="pipelines.html" />
    <link rel="prev" title="Document Loading Tutorial" href="../tutorials/document_loading.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            RAGFlow
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/customization.html">Customizing RAGFlow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/basic_rag.html">Basic RAG Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/document_loading.html">Document Loading Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Core Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-ragflow.core.interfaces">Interfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.interfaces.Document"><code class="docutils literal notranslate"><span class="pre">Document</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.Document.page_content"><code class="docutils literal notranslate"><span class="pre">Document.page_content</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.Document.metadata"><code class="docutils literal notranslate"><span class="pre">Document.metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.Document.__init__"><code class="docutils literal notranslate"><span class="pre">Document.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.interfaces.ChunkingStrategyInterface"><code class="docutils literal notranslate"><span class="pre">ChunkingStrategyInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.ChunkingStrategyInterface.split_documents"><code class="docutils literal notranslate"><span class="pre">ChunkingStrategyInterface.split_documents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.ChunkingStrategyInterface.split_text"><code class="docutils literal notranslate"><span class="pre">ChunkingStrategyInterface.split_text()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.interfaces.EmbeddingModelInterface"><code class="docutils literal notranslate"><span class="pre">EmbeddingModelInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.EmbeddingModelInterface.embed_query"><code class="docutils literal notranslate"><span class="pre">EmbeddingModelInterface.embed_query()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.EmbeddingModelInterface.embed_documents"><code class="docutils literal notranslate"><span class="pre">EmbeddingModelInterface.embed_documents()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface"><code class="docutils literal notranslate"><span class="pre">VectorStoreInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface.add_documents"><code class="docutils literal notranslate"><span class="pre">VectorStoreInterface.add_documents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface.add_texts"><code class="docutils literal notranslate"><span class="pre">VectorStoreInterface.add_texts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface.similarity_search"><code class="docutils literal notranslate"><span class="pre">VectorStoreInterface.similarity_search()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface.similarity_search_by_vector"><code class="docutils literal notranslate"><span class="pre">VectorStoreInterface.similarity_search_by_vector()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.interfaces.RetrievalStrategyInterface"><code class="docutils literal notranslate"><span class="pre">RetrievalStrategyInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.RetrievalStrategyInterface.get_relevant_documents"><code class="docutils literal notranslate"><span class="pre">RetrievalStrategyInterface.get_relevant_documents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.RetrievalStrategyInterface.get_relevant_documents_with_scores"><code class="docutils literal notranslate"><span class="pre">RetrievalStrategyInterface.get_relevant_documents_with_scores()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.interfaces.LLMInterface"><code class="docutils literal notranslate"><span class="pre">LLMInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.LLMInterface.generate"><code class="docutils literal notranslate"><span class="pre">LLMInterface.generate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.interfaces.LLMInterface.generate_with_context"><code class="docutils literal notranslate"><span class="pre">LLMInterface.generate_with_context()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-ragflow.core.pipeline">Base Pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.pipeline.RAGPipeline"><code class="docutils literal notranslate"><span class="pre">RAGPipeline</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.RAGPipeline.__init__"><code class="docutils literal notranslate"><span class="pre">RAGPipeline.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.RAGPipeline.add_documents"><code class="docutils literal notranslate"><span class="pre">RAGPipeline.add_documents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.RAGPipeline.add_texts"><code class="docutils literal notranslate"><span class="pre">RAGPipeline.add_texts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.RAGPipeline.query"><code class="docutils literal notranslate"><span class="pre">RAGPipeline.query()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.RAGPipeline.query_with_sources"><code class="docutils literal notranslate"><span class="pre">RAGPipeline.query_with_sources()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.pipeline.AgenticRAGPipeline"><code class="docutils literal notranslate"><span class="pre">AgenticRAGPipeline</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.AgenticRAGPipeline.__init__"><code class="docutils literal notranslate"><span class="pre">AgenticRAGPipeline.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.AgenticRAGPipeline.query"><code class="docutils literal notranslate"><span class="pre">AgenticRAGPipeline.query()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.AgenticRAGPipeline.query_with_sources"><code class="docutils literal notranslate"><span class="pre">AgenticRAGPipeline.query_with_sources()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.AgenticRAGPipeline.add_documents"><code class="docutils literal notranslate"><span class="pre">AgenticRAGPipeline.add_documents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.pipeline.AgenticRAGPipeline.add_texts"><code class="docutils literal notranslate"><span class="pre">AgenticRAGPipeline.add_texts()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-ragflow.core.errors">Error Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.RAGFlowError"><code class="docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.RAGFlowError.add_note"><code class="docutils literal notranslate"><span class="pre">RAGFlowError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.RAGFlowError.args"><code class="docutils literal notranslate"><span class="pre">RAGFlowError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.RAGFlowError.with_traceback"><code class="docutils literal notranslate"><span class="pre">RAGFlowError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.ConfigurationError"><code class="docutils literal notranslate"><span class="pre">ConfigurationError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.ConfigurationError.add_note"><code class="docutils literal notranslate"><span class="pre">ConfigurationError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.ConfigurationError.args"><code class="docutils literal notranslate"><span class="pre">ConfigurationError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.ConfigurationError.with_traceback"><code class="docutils literal notranslate"><span class="pre">ConfigurationError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.VectorStoreError"><code class="docutils literal notranslate"><span class="pre">VectorStoreError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.VectorStoreError.add_note"><code class="docutils literal notranslate"><span class="pre">VectorStoreError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.VectorStoreError.args"><code class="docutils literal notranslate"><span class="pre">VectorStoreError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.VectorStoreError.with_traceback"><code class="docutils literal notranslate"><span class="pre">VectorStoreError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.EmbeddingError"><code class="docutils literal notranslate"><span class="pre">EmbeddingError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.EmbeddingError.add_note"><code class="docutils literal notranslate"><span class="pre">EmbeddingError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.EmbeddingError.args"><code class="docutils literal notranslate"><span class="pre">EmbeddingError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.EmbeddingError.with_traceback"><code class="docutils literal notranslate"><span class="pre">EmbeddingError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.LLMError"><code class="docutils literal notranslate"><span class="pre">LLMError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.LLMError.add_note"><code class="docutils literal notranslate"><span class="pre">LLMError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.LLMError.args"><code class="docutils literal notranslate"><span class="pre">LLMError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.LLMError.with_traceback"><code class="docutils literal notranslate"><span class="pre">LLMError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.ChunkingError"><code class="docutils literal notranslate"><span class="pre">ChunkingError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.ChunkingError.add_note"><code class="docutils literal notranslate"><span class="pre">ChunkingError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.ChunkingError.args"><code class="docutils literal notranslate"><span class="pre">ChunkingError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.ChunkingError.with_traceback"><code class="docutils literal notranslate"><span class="pre">ChunkingError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.RetrievalError"><code class="docutils literal notranslate"><span class="pre">RetrievalError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.RetrievalError.add_note"><code class="docutils literal notranslate"><span class="pre">RetrievalError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.RetrievalError.args"><code class="docutils literal notranslate"><span class="pre">RetrievalError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.RetrievalError.with_traceback"><code class="docutils literal notranslate"><span class="pre">RetrievalError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.MissingDependencyError"><code class="docutils literal notranslate"><span class="pre">MissingDependencyError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.MissingDependencyError.__init__"><code class="docutils literal notranslate"><span class="pre">MissingDependencyError.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.MissingDependencyError.add_note"><code class="docutils literal notranslate"><span class="pre">MissingDependencyError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.MissingDependencyError.args"><code class="docutils literal notranslate"><span class="pre">MissingDependencyError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.MissingDependencyError.with_traceback"><code class="docutils literal notranslate"><span class="pre">MissingDependencyError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.APIKeyError"><code class="docutils literal notranslate"><span class="pre">APIKeyError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.APIKeyError.__init__"><code class="docutils literal notranslate"><span class="pre">APIKeyError.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.APIKeyError.add_note"><code class="docutils literal notranslate"><span class="pre">APIKeyError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.APIKeyError.args"><code class="docutils literal notranslate"><span class="pre">APIKeyError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.APIKeyError.with_traceback"><code class="docutils literal notranslate"><span class="pre">APIKeyError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.InvalidArgumentError"><code class="docutils literal notranslate"><span class="pre">InvalidArgumentError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.InvalidArgumentError.add_note"><code class="docutils literal notranslate"><span class="pre">InvalidArgumentError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.InvalidArgumentError.args"><code class="docutils literal notranslate"><span class="pre">InvalidArgumentError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.InvalidArgumentError.with_traceback"><code class="docutils literal notranslate"><span class="pre">InvalidArgumentError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ragflow.core.errors.DocumentProcessingError"><code class="docutils literal notranslate"><span class="pre">DocumentProcessingError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.DocumentProcessingError.add_note"><code class="docutils literal notranslate"><span class="pre">DocumentProcessingError.add_note()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.DocumentProcessingError.args"><code class="docutils literal notranslate"><span class="pre">DocumentProcessingError.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ragflow.core.errors.DocumentProcessingError.with_traceback"><code class="docutils literal notranslate"><span class="pre">DocumentProcessingError.with_traceback()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="adapters.html">Adapters</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/custom_adapters.html">Creating Custom Adapters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/performance_tuning.html">Performance Tuning</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RAGFlow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Core Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/core.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="core-module">
<h1>Core Module<a class="headerlink" href="#core-module" title="Link to this heading"></a></h1>
<p>This page documents the core interfaces and classes that form the foundation of RAGFlow.</p>
<section id="module-ragflow.core.interfaces">
<span id="interfaces"></span><h2>Interfaces<a class="headerlink" href="#module-ragflow.core.interfaces" title="Link to this heading"></a></h2>
<p>Core interfaces for RAGFlow.</p>
<p>This module defines the fundamental interfaces that form the building blocks
of the RAG (Retrieval Augmented Generation) pipeline. Each interface represents
a component with a specific role in the pipeline:</p>
<ul class="simple">
<li><p>ChunkingStrategyInterface: Splitting documents into smaller chunks</p></li>
<li><p>EmbeddingModelInterface: Converting text into vector embeddings</p></li>
<li><p>VectorStoreInterface: Storing and retrieving vector embeddings</p></li>
<li><p>RetrievalStrategyInterface: Retrieving relevant documents based on a query</p></li>
<li><p>LLMInterface: Generating text based on context and prompts</p></li>
</ul>
<p>These interfaces promote modularity, testability, and extensibility by
defining standard contracts that concrete implementations must follow.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.interfaces.Document">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.interfaces.</span></span><span class="sig-name descname"><span class="pre">Document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#Document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.Document" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A document with text content and optional metadata.</p>
<p>This class represents the core unit of text data in RAGFlow, containing
both the actual content (text) and associated metadata. The metadata can
hold information such as source, author, creation date, or any other
relevant attributes.</p>
<p>Documents are used throughout the RAG pipeline and are especially important
during retrieval, where metadata can help filter results or provide
attribution information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page_content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>)</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.interfaces.Document.page_content">
<span class="sig-name descname"><span class="pre">page_content</span></span><a class="headerlink" href="#ragflow.core.interfaces.Document.page_content" title="Link to this definition"></a></dt>
<dd><p>The text content of the document.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.interfaces.Document.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#ragflow.core.interfaces.Document.metadata" title="Link to this definition"></a></dt>
<dd><p>Optional metadata associated with the document.
Common keys include ‘source’, ‘author’, ‘created_at’, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, Any]</p>
</dd>
</dl>
</dd></dl>

<section id="examples">
<h3>Examples:<a class="headerlink" href="#examples" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Creating a simple document:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;This is a sample document.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Creating a document with metadata:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span>
    <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;This document contains important information.&quot;</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;research_paper.pdf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Smith, J.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="mi">2024</span><span class="p">,</span>
        <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.Document.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#Document.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.Document.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Document.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page_content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The text content of the document. This is the actual
textual information that will be processed and retrieved.</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) – Optional metadata associated with the document. This can
include information like source, author, creation date, page number,
or any other relevant attributes. Defaults to an empty dictionary.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.interfaces.ChunkingStrategyInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.interfaces.</span></span><span class="sig-name descname"><span class="pre">ChunkingStrategyInterface</span></span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#ChunkingStrategyInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.ChunkingStrategyInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface for splitting documents into smaller chunks.</p>
<p>A chunking strategy is responsible for dividing documents into smaller,
more manageable pieces that can be processed independently. This is
particularly important for:
1. Large documents that might exceed context limits of LLMs
2. Improving retrieval granularity by breaking content into focused segments
3. Optimizing embedding and storage efficiency</p>
<p>Different chunking strategies can be implemented based on the specific needs:
- Splitting by character/token count
- Splitting by semantic units (paragraphs, sections)
- Splitting with overlaps to maintain context across chunks
- Using language-aware chunking for better semantics</p>
<p>Implementations of this interface should ensure that:
- The original document metadata is preserved or appropriately modified in each chunk
- The text is split in a way that maintains semantic coherence when possible
- The chunking parameters (size, overlap) can be configured</p>
<section id="id1">
<h3>Examples:<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Using a chunking strategy:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chunker</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitterAdapter</span><span class="p">(</span>
    <span class="n">chunk_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">200</span>
<span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="p">[</span><span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;A very long document...&quot;</span><span class="p">)]</span>
<span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.ChunkingStrategyInterface.split_documents">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#ChunkingStrategyInterface.split_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.ChunkingStrategyInterface.split_documents" title="Link to this definition"></a></dt>
<dd><p>Split a list of documents into smaller chunks.</p>
<p>This method takes a list of Document objects, splits their content
into smaller chunks, and returns a new list of Document objects
representing those chunks. The metadata from the original documents
should be preserved or appropriately modified in each chunk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>documents</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a><em>]</em>) – List of Document objects to split. Each document’s
page_content will be split into chunks.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Document objects representing the chunks. This will typically
contain more documents than the input list, as each input document
may produce multiple chunks.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a>]</p>
</dd>
</dl>
<section id="id2">
<h4>Examples:<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chunker</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitterAdapter</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">long_docs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Document</span><span class="p">(</span>
        <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;Long document 1...&quot;</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;doc1.txt&quot;</span><span class="p">},</span>
    <span class="p">),</span>
    <span class="n">Document</span><span class="p">(</span>
        <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;Long document 2...&quot;</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;doc2.txt&quot;</span><span class="p">},</span>
    <span class="p">),</span>
<span class="p">]</span>
<span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">long_docs</span><span class="p">)</span>
<span class="c1"># chunks will contain multiple Document objects, each with a portion of the</span>
<span class="c1"># original text and the preserved or modified metadata</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.ChunkingStrategyInterface.split_text">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#ChunkingStrategyInterface.split_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.ChunkingStrategyInterface.split_text" title="Link to this definition"></a></dt>
<dd><p>Split a text string into smaller chunks.</p>
<p>This method takes a single text string and splits it into a list of
smaller text chunks according to the strategy’s algorithm. This is
a lower-level method that doesn’t deal with Document objects and
their metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – A text string to split into chunks.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of text chunks. The original text is divided into multiple
smaller strings according to the chunking strategy.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p>
</dd>
</dl>
<section id="id3">
<h4>Examples:<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chunker</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitterAdapter</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">long_text</span> <span class="o">=</span> <span class="s2">&quot;This is a very long document that needs to be split...&quot;</span>
<span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">split_text</span><span class="p">(</span><span class="n">long_text</span><span class="p">)</span>
<span class="c1"># chunks will be a list of strings, each up to 1000 characters</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.interfaces.EmbeddingModelInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.interfaces.</span></span><span class="sig-name descname"><span class="pre">EmbeddingModelInterface</span></span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#EmbeddingModelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.EmbeddingModelInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface for embedding models that convert text into vector representations.</p>
<p>Embedding models transform text into numerical vector representations that
capture semantic meaning, enabling similarity searches and other vector
operations. These embeddings are at the core of RAG systems, as they allow
for efficient retrieval of relevant content based on semantic similarity.</p>
<p>Different embedding models have different characteristics:
- Varying vector dimensions (e.g., 384, 768, 1536)
- Different training data and optimization targets
- Trade-offs between speed, accuracy, and resource requirements
- Support for different languages and domains</p>
<p>Implementations of this interface should focus on:
- Providing a consistent way to generate embeddings across different models
- Handling batching for efficiency when embedding multiple documents
- Proper normalization and preprocessing of input text
- Appropriate error handling for model-specific issues</p>
<section id="id4">
<h3>Examples:<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Using an embedding model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;all-MiniLM-L6-v2&quot;</span><span class="p">)</span>

<span class="c1"># Embed a single query</span>
<span class="n">query_embedding</span> <span class="o">=</span> <span class="n">embedder</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="s2">&quot;What is RAGFlow?&quot;</span><span class="p">)</span>

<span class="c1"># Embed multiple documents</span>
<span class="n">doc_embeddings</span> <span class="o">=</span> <span class="n">embedder</span><span class="o">.</span><span class="n">embed_documents</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s2">&quot;RAGFlow is a framework for building RAG applications.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;It uses various components like embedding models and vector stores.&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.EmbeddingModelInterface.embed_query">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">embed_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#EmbeddingModelInterface.embed_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.EmbeddingModelInterface.embed_query" title="Link to this definition"></a></dt>
<dd><p>Generate an embedding for a query string.</p>
<p>This method converts a single query string into a vector embedding
that represents its semantic meaning. The embedding can then be used
for similarity search against document embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The query text to embed. This can be a question, phrase,
or any text that needs to be converted to a vector representation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The vector embedding of the query.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a>]</p>
</dd>
</dl>
<section id="id5">
<h4>Examples:<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">query_embedding</span> <span class="o">=</span> <span class="n">embedder</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="s2">&quot;How does RAG work?&quot;</span><span class="p">)</span>
<span class="c1"># query_embedding will be a list of floats (e.g., [0.1, 0.2, ...])</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.EmbeddingModelInterface.embed_documents">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">embed_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#EmbeddingModelInterface.embed_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.EmbeddingModelInterface.embed_documents" title="Link to this definition"></a></dt>
<dd><p>Generate embeddings for a list of documents.</p>
<p>This method converts multiple document strings into vector embeddings
that represent their semantic meanings. These embeddings can be stored
in a vector database for later retrieval.</p>
<p>Implementations should handle batching efficiently to optimize performance
when embedding large numbers of documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>documents</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – List of document texts to embed. Each string in this list
will be converted to a separate embedding vector.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of embeddings, where each inner list is a
vector embedding for a document. The order of embeddings corresponds
to the order of the input documents.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a>]]</p>
</dd>
</dl>
<section id="id6">
<h4>Examples:<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">texts_to_embed</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;RAGFlow provides flexible interfaces.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Embeddings are crucial for semantic search.&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">document_embeddings</span> <span class="o">=</span> <span class="n">embedder</span><span class="o">.</span><span class="n">embed_documents</span><span class="p">(</span><span class="n">texts_to_embed</span><span class="p">)</span>
<span class="c1"># document_embeddings will be a list of lists of floats</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.interfaces.VectorStoreInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.interfaces.</span></span><span class="sig-name descname"><span class="pre">VectorStoreInterface</span></span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#VectorStoreInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.VectorStoreInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface for vector stores that store and retrieve embeddings.</p>
<p>Vector stores are specialized databases that efficiently store and
search vector embeddings, enabling similarity search operations. They
are a critical component in RAG systems for retrieving documents that
are semantically similar to a query.</p>
<p>Key capabilities of vector stores include:
- Efficient storage of high-dimensional vector embeddings
- Fast approximate nearest neighbor (ANN) search algorithms
- Ability to store metadata alongside vectors for filtering
- Support for various distance metrics (cosine, Euclidean, dot product)
- Persistence and scaling of vector collections</p>
<p>Common vector store implementations include:
- ChromaDB, Pinecone, Weaviate, Qdrant, Milvus, Faiss
- PostgreSQL with pgvector extension
- Redis with RediSearch/RedisVL
- In-memory implementations for testing</p>
<p>Implementations of this interface should ensure:
- Consistent handling of documents and their embeddings
- Proper error handling for database operations
- Efficient vector search functionality
- Appropriate metadata storage and filtering
- Efficiently update or delete existing embeddings</p>
<section id="id7">
<h3>Examples:<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Using a vector store:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>

<span class="c1"># Add documents</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">add_texts</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;Document 1 about apples&quot;</span><span class="p">,</span> <span class="s2">&quot;Document 2 about oranges&quot;</span><span class="p">],</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;doc1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;doc2&quot;</span><span class="p">}],</span>
<span class="p">)</span>

<span class="c1"># Search for similar documents</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="s2">&quot;Tell me about fruits&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.VectorStoreInterface.add_documents">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#VectorStoreInterface.add_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.VectorStoreInterface.add_documents" title="Link to this definition"></a></dt>
<dd><p>Add documents to the vector store.</p>
<p>This method stores document content and metadata in the vector store.
If embeddings are provided, they are used directly; otherwise, the
vector store will generate embeddings using its embedding function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>documents</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em><em>]</em>) – List of document dictionaries to store. Each dictionary
should contain at least a ‘page_content’ key with the document text
and a ‘metadata’ key with a dictionary of associated metadata.</p></li>
<li><p><strong>embeddings</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em><em>] </em><em>| </em><em>None</em>) – Optional pre-computed embeddings for the documents. If provided,
these should be a list of embedding vectors (list of floats) with the
same length as the documents list. If not provided, the vector store
will use its embedding function to generate embeddings.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<section id="id8">
<h4>Examples:<a class="headerlink" href="#id8" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>
<span class="n">docs_to_add</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;page_content&quot;</span><span class="p">:</span> <span class="s2">&quot;RAGFlow is a framework for RAG applications.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;readme.md&quot;</span><span class="p">,</span> <span class="s2">&quot;section&quot;</span><span class="p">:</span> <span class="s2">&quot;intro&quot;</span><span class="p">},</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;page_content&quot;</span><span class="p">:</span> <span class="s2">&quot;Vector stores enable efficient similarity search.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;guide.md&quot;</span><span class="p">,</span> <span class="s2">&quot;section&quot;</span><span class="p">:</span> <span class="s2">&quot;concepts&quot;</span><span class="p">},</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="c1"># Add documents without providing embeddings (will be generated)</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">add_documents</span><span class="p">(</span><span class="n">docs_to_add</span><span class="p">)</span>

<span class="c1"># Or with pre-computed embeddings</span>
<span class="n">doc_texts</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="p">[</span><span class="s2">&quot;page_content&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs_to_add</span><span class="p">]</span>
<span class="n">embeddings</span> <span class="o">=</span> <span class="n">embedder</span><span class="o">.</span><span class="n">embed_documents</span><span class="p">(</span><span class="n">doc_texts</span><span class="p">)</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">add_documents</span><span class="p">(</span><span class="n">docs_to_add</span><span class="p">,</span> <span class="n">embeddings</span><span class="o">=</span><span class="n">embeddings</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.VectorStoreInterface.add_texts">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#VectorStoreInterface.add_texts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.VectorStoreInterface.add_texts" title="Link to this definition"></a></dt>
<dd><p>Add text strings with optional metadata to the vector store.</p>
<p>This is a convenience method that takes raw text strings and optional
metadata, converts them to the document format, and stores them in
the vector store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – List of text strings to add. Each string will be stored
as the content of a document.</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em><em>] </em><em>| </em><em>None</em>) – Optional list of metadata dictionaries, one for each text.
If provided, this list should have the same length as the texts list.
If not provided, empty metadata will be used for all texts.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<section id="id9">
<h4>Examples:<a class="headerlink" href="#id9" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>
<span class="n">texts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;First document text&quot;</span><span class="p">,</span> <span class="s2">&quot;Second document text&quot;</span><span class="p">]</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;doc1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;doc2&quot;</span><span class="p">}]</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">add_texts</span><span class="p">(</span><span class="n">texts</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.VectorStoreInterface.similarity_search">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">similarity_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#VectorStoreInterface.similarity_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.VectorStoreInterface.similarity_search" title="Link to this definition"></a></dt>
<dd><p>Retrieve documents similar to the query.</p>
<p>This method converts the query string to an embedding and then
finds the most similar documents in the vector store based on
a distance metric (typically cosine similarity).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The query string to find similar documents for. This
will be converted to an embedding using the vector store’s
embedding function.</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of similar documents to return. Defaults to 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of Document objects, ranked by similarity.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a>]]</p>
</dd>
</dl>
<section id="id10">
<h4>Examples:<a class="headerlink" href="#id10" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>
<span class="n">query_embedding</span> <span class="o">=</span> <span class="n">embedder</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="s2">&quot;Search query&quot;</span><span class="p">)</span>
<span class="c1"># Assume documents have been added</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search_by_vector</span><span class="p">(</span><span class="n">query_embedding</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">page_content</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.VectorStoreInterface.similarity_search_by_vector">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">similarity_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#VectorStoreInterface.similarity_search_by_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.VectorStoreInterface.similarity_search_by_vector" title="Link to this definition"></a></dt>
<dd><p>Retrieve documents similar to the provided embedding vector.</p>
<p>This method allows searching with a pre-computed embedding vector
instead of a text query. This is useful when you’ve already generated
an embedding using a specific model or when you want to ensure exact
control over the embedding used for search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em>) – The query vector embedding (list of floats).</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of similar documents to retrieve. Defaults to 4.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of Document objects, ranked by similarity.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a>]</p>
</dd>
</dl>
<section id="id11">
<h4>Examples:<a class="headerlink" href="#id11" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>
<span class="n">query_embedding</span> <span class="o">=</span> <span class="n">embedder</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="s2">&quot;Search query&quot;</span><span class="p">)</span>
<span class="c1"># Assume documents have been added</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search_by_vector</span><span class="p">(</span><span class="n">query_embedding</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">page_content</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.interfaces.RetrievalStrategyInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.interfaces.</span></span><span class="sig-name descname"><span class="pre">RetrievalStrategyInterface</span></span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#RetrievalStrategyInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.RetrievalStrategyInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface for retrieving relevant documents based on a query.</p>
<p>A retrieval strategy is responsible for selecting the most relevant documents
from a corpus based on a user query. This is a critical component in RAG systems
as it determines what context information will be provided to the LLM.</p>
<p>Different retrieval strategies can be implemented based on specific needs:
- Simple similarity-based retrieval using vector embeddings
- Hybrid retrieval combining vector similarity with keyword search
- Re-ranking strategies that apply additional filtering or scoring
- Multi-step retrieval that iteratively refines results</p>
<p>Implementations of this interface should focus on:
- Integrating with a vector store or other search mechanism
- Applying appropriate filtering or re-ranking logic if needed
- Handling different query types and complexities
- Efficiently querying the underlying vector store or search index</p>
<section id="id12">
<h3>Examples:<a class="headerlink" href="#id12" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Using a retrieval strategy:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>
<span class="c1"># Add documents to vector_store first...</span>
<span class="n">retriever</span> <span class="o">=</span> <span class="n">SimpleSimilarityRetriever</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">relevant_docs</span> <span class="o">=</span> <span class="n">retriever</span><span class="o">.</span><span class="n">get_relevant_documents</span><span class="p">(</span>
    <span class="s2">&quot;What are the key features of RAGFlow?&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.RetrievalStrategyInterface.get_relevant_documents">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_relevant_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#RetrievalStrategyInterface.get_relevant_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.RetrievalStrategyInterface.get_relevant_documents" title="Link to this definition"></a></dt>
<dd><p>Retrieve documents that are relevant to the given query.</p>
<p>This method searches through the available documents and returns
those that are most relevant to answering the provided query.
The exact matching algorithm depends on the implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The search query to find relevant documents for.
This is typically a question or information need expressed
as a natural language string.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of Document objects considered relevant to the query.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a>]</p>
</dd>
</dl>
<section id="id13">
<h4>Examples:<a class="headerlink" href="#id13" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">retriever</span> <span class="o">=</span> <span class="n">SimpleSimilarityRetriever</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">my_vector_store</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">retriever</span><span class="o">.</span><span class="n">get_relevant_documents</span><span class="p">(</span>
    <span class="s2">&quot;How to build a RAG pipeline?&quot;</span>
<span class="p">)</span>
<span class="c1"># documents will be a list of up to 3 Document objects</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.RetrievalStrategyInterface.get_relevant_documents_with_scores">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_relevant_documents_with_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#RetrievalStrategyInterface.get_relevant_documents_with_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.RetrievalStrategyInterface.get_relevant_documents_with_scores" title="Link to this definition"></a></dt>
<dd><p>Retrieve relevant documents along with their relevance scores.</p>
<p>Similar to get_relevant_documents(), but also returns a relevance
score for each document. This allows consumers to make decisions
based on the confidence of the retrieval system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The search query to find relevant documents for.
This is typically a question or information need expressed
as a natural language string.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples, each containing a Document object and its
corresponding relevance score (float) representing its relevance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a>]]</p>
</dd>
</dl>
<section id="id14">
<h4>Examples:<a class="headerlink" href="#id14" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">retriever</span> <span class="o">=</span> <span class="n">SimpleSimilarityRetriever</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">my_vector_store</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">retriever</span><span class="o">.</span><span class="n">get_relevant_documents_with_scores</span><span class="p">(</span><span class="s2">&quot;Query text&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Score: </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">, Content: </span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">page_content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.interfaces.LLMInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.interfaces.</span></span><span class="sig-name descname"><span class="pre">LLMInterface</span></span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#LLMInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.LLMInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Interface for language models that generate text based on prompts and context.</p>
<p>A language model is responsible for the “generation” part of Retrieval Augmented
Generation. It takes a user query along with relevant context documents and
generates a coherent, informative response.</p>
<p>This interface abstracts away the details of different LLM providers and models,
allowing RAGFlow to work with various backends:
- OpenAI models (GPT-3.5, GPT-4, etc.)
- Google models (Gemini, PaLM, etc.)
- Anthropic models (Claude)
- Open-source models (Llama, Mistral, etc.)
- Local models running on-premises</p>
<p>Implementations of this interface should focus on:
- Managing communication with the LLM API or local model
- Crafting appropriate prompts that incorporate the retrieved context
- Handling API-specific parameters like temperature, max tokens, etc.
- Proper error handling for API quotas, rate limits, etc.
- Handling of rate limits, API errors, and retries if applicable</p>
<section id="id15">
<h3>Examples:<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Using an LLM interface:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">llm</span> <span class="o">=</span> <span class="n">GeminiAdapter</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">)</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s2">&quot;What is the capital of France?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>  <span class="c1"># Expected: Paris</span>
</pre></div>
</div>
<p>Generating with context:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">llm</span> <span class="o">=</span> <span class="n">GeminiAdapter</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your-api-key&quot;</span><span class="p">)</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">retriever</span> <span class="o">=</span> <span class="n">SimpleSimilarityRetriever</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">)</span>

<span class="c1"># Get relevant documents for a query</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;What is the impact of chunking on RAG performance?&quot;</span>
<span class="n">relevant_docs</span> <span class="o">=</span> <span class="n">retriever</span><span class="o">.</span><span class="n">get_relevant_documents</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Generate answer using context</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">generate_with_context</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">relevant_docs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.LLMInterface.generate">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#LLMInterface.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.LLMInterface.generate" title="Link to this definition"></a></dt>
<dd><p>Generate text based on a prompt.</p>
<p>This basic generation method takes a prompt and optional context
dictionary and returns generated text from the language model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The prompt string to generate text from. This can be a
question, instruction, or any text that the LLM should
continue or respond to.</p></li>
<li><p><strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em><em>] </em><em>| </em><em>None</em>) – Optional additional context or parameters to pass to the
language model. This can include configuration options or
additional information that influences generation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string containing the generated text.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
<section id="id16">
<h4>Examples:<a class="headerlink" href="#id16" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">llm</span> <span class="o">=</span> <span class="n">GeminiAdapter</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your-api-key&quot;</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Simple prompt without context</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s2">&quot;Write a haiku about programming.&quot;</span><span class="p">)</span>

<span class="c1"># With additional context/parameters</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;What is machine learning?&quot;</span><span class="p">,</span>
    <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;max_tokens&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="s2">&quot;concise&quot;</span><span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.interfaces.LLMInterface.generate_with_context">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_with_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/interfaces.html#LLMInterface.generate_with_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.interfaces.LLMInterface.generate_with_context" title="Link to this definition"></a></dt>
<dd><p>Generate a response to a query using retrieved context documents.</p>
<p>This is the core RAG method that combines the user query with
relevant retrieved documents to generate an informed response.
The implementation should properly format the prompt to include
both the query and the context in a way that the LLM can use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The user’s query or question.</p></li>
<li><p><strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a><em>]</em>) – A list of Document objects providing relevant context for the query.
These are typically retrieved from a vector store.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string containing the generated answer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
<section id="id17">
<h4>Examples:<a class="headerlink" href="#id17" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">llm</span> <span class="o">=</span> <span class="n">GeminiAdapter</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">)</span>
<span class="n">retrieved_documents</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;The sky is blue during the day.&quot;</span><span class="p">),</span>
    <span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;The sun is a star.&quot;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">generate_with_context</span><span class="p">(</span>
    <span class="s2">&quot;Why is the sky blue?&quot;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">retrieved_documents</span>
<span class="p">)</span>
<span class="c1"># Answer will be based on the provided documents and the LLM&#39;s knowledge</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="module-ragflow.core.pipeline">
<span id="base-pipeline"></span><h2>Base Pipeline<a class="headerlink" href="#module-ragflow.core.pipeline" title="Link to this heading"></a></h2>
<p>Core pipeline implementation for RAGFlow.</p>
<p>This module provides the base RAGPipeline class that orchestrates the
Retrieval Augmented Generation (RAG) workflow by composing components
that implement the core interfaces.</p>
<p>The RAGPipeline coordinates document loading, chunking, embedding, storage,
retrieval, and generation to enable powerful question-answering capabilities
over custom document collections.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.pipeline.RAGPipeline">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.pipeline.</span></span><span class="sig-name descname"><span class="pre">RAGPipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunking_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector_store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retrieval_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#RAGPipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.RAGPipeline" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base RAG pipeline that orchestrates the full RAG workflow.</p>
<p>The RAGPipeline coordinates all components in the RAG process:
1. Splitting documents into chunks using a chunking strategy
2. Embedding those chunks using an embedding model
3. Storing embeddings in a vector store
4. Retrieving relevant context based on queries
5. Generating answers using an LLM based on retrieved context</p>
<p>This design allows each component to be easily replaced, enabling
customization and extension of the RAG pipeline.</p>
<section id="id18">
<h3>Examples:<a class="headerlink" href="#id18" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Creating a custom RAG pipeline:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">ragflow.adapters.chunking_strategies</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">RecursiveCharacterTextSplitterAdapter</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ragflow.adapters.embedding_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">SentenceTransformersAdapter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ragflow.adapters.vector_stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChromaDBAdapter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ragflow.adapters.retrieval_strategies</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleSimilarityRetriever</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ragflow.adapters.llms</span><span class="w"> </span><span class="kn">import</span> <span class="n">GeminiAdapter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ragflow.core.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">RAGPipeline</span>

<span class="c1"># Create the component instances</span>
<span class="n">chunker</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitterAdapter</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>
<span class="n">retriever</span> <span class="o">=</span> <span class="n">SimpleSimilarityRetriever</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">)</span>
<span class="n">llm</span> <span class="o">=</span> <span class="n">GeminiAdapter</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your-api-key&quot;</span><span class="p">)</span>

<span class="c1"># Create the pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span>
    <span class="n">chunking_strategy</span><span class="o">=</span><span class="n">chunker</span><span class="p">,</span>
    <span class="n">embedding_model</span><span class="o">=</span><span class="n">embedder</span><span class="p">,</span>
    <span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">,</span>
    <span class="n">retrieval_strategy</span><span class="o">=</span><span class="n">retriever</span><span class="p">,</span>
    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Use the pipeline</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_documents</span><span class="p">([</span><span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;Example document&quot;</span><span class="p">)])</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;What is in the document?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.RAGPipeline.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunking_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector_store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retrieval_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#RAGPipeline.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.RAGPipeline.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the RAG pipeline with its component parts.</p>
<p>This constructor assembles all the required components into a cohesive
pipeline that can process documents and answer queries. Each component
must implement its respective interface from the core.interfaces module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunking_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.ChunkingStrategyInterface" title="ragflow.core.interfaces.ChunkingStrategyInterface"><em>ChunkingStrategyInterface</em></a>) – Strategy for splitting documents into chunks.
Must implement the ChunkingStrategyInterface.</p></li>
<li><p><strong>embedding_model</strong> (<a class="reference internal" href="#ragflow.core.interfaces.EmbeddingModelInterface" title="ragflow.core.interfaces.EmbeddingModelInterface"><em>EmbeddingModelInterface</em></a>) – Model for generating vector embeddings.
Must implement the EmbeddingModelInterface.</p></li>
<li><p><strong>vector_store</strong> (<a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface" title="ragflow.core.interfaces.VectorStoreInterface"><em>VectorStoreInterface</em></a>) – Store for saving and retrieving embeddings.
Must implement the VectorStoreInterface.</p></li>
<li><p><strong>retrieval_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.RetrievalStrategyInterface" title="ragflow.core.interfaces.RetrievalStrategyInterface"><em>RetrievalStrategyInterface</em></a>) – Strategy for retrieving relevant documents.
Must implement the RetrievalStrategyInterface.</p></li>
<li><p><strong>llm</strong> (<a class="reference internal" href="#ragflow.core.interfaces.LLMInterface" title="ragflow.core.interfaces.LLMInterface"><em>LLMInterface</em></a>) – Language model for generating answers.
Must implement the LLMInterface.</p></li>
</ul>
</dd>
</dl>
<section id="id19">
<h4>Examples:<a class="headerlink" href="#id19" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create component instances</span>
<span class="n">chunker</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitterAdapter</span><span class="p">()</span>
<span class="n">embedder</span> <span class="o">=</span> <span class="n">SentenceTransformersAdapter</span><span class="p">()</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">ChromaDBAdapter</span><span class="p">(</span><span class="n">embedding_function</span><span class="o">=</span><span class="n">embedder</span><span class="p">)</span>
<span class="n">retriever</span> <span class="o">=</span> <span class="n">SimpleSimilarityRetriever</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">)</span>
<span class="n">llm</span> <span class="o">=</span> <span class="n">GeminiAdapter</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your-api-key&quot;</span><span class="p">)</span>

<span class="c1"># Initialize the pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span>
    <span class="n">chunking_strategy</span><span class="o">=</span><span class="n">chunker</span><span class="p">,</span>
    <span class="n">embedding_model</span><span class="o">=</span><span class="n">embedder</span><span class="p">,</span>
    <span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">,</span>
    <span class="n">retrieval_strategy</span><span class="o">=</span><span class="n">retriever</span><span class="p">,</span>
    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.RAGPipeline.add_documents">
<span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#RAGPipeline.add_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.RAGPipeline.add_documents" title="Link to this definition"></a></dt>
<dd><p>Process and add documents to the pipeline.</p>
<p>This method handles the complete document ingestion process:
1. Splits the documents into smaller chunks using the configured chunking strategy
2. Generates embeddings for these chunks using the embedding model
3. Adds the chunks and their embeddings to the vector store</p>
<p>This prepares the documents for later retrieval when answering queries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>documents</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a><em>]</em>) – List of Document objects to add to the pipeline.
Each Document should have page_content (text) and optional
metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<section id="id20">
<h4>Examples:<a class="headerlink" href="#id20" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Create Document objects</span>
<span class="n">documents</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Document</span><span class="p">(</span>
        <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;RAGFlow is a framework for building RAG applications.&quot;</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;introduction.txt&quot;</span><span class="p">},</span>
    <span class="p">),</span>
    <span class="n">Document</span><span class="p">(</span>
        <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;Vector stores enable efficient similarity search.&quot;</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;concepts.txt&quot;</span><span class="p">},</span>
    <span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Add documents to the pipeline</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.RAGPipeline.add_texts">
<span class="sig-name descname"><span class="pre">add_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#RAGPipeline.add_texts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.RAGPipeline.add_texts" title="Link to this definition"></a></dt>
<dd><p>Process and add text strings to the pipeline.</p>
<p>This is a convenience method that:
1. Converts texts to Document objects (with optional metadata)
2. Splits them into smaller chunks
3. Adds those chunks to the vector store</p>
<p>It’s a simpler alternative to creating Document objects manually
when you have raw text strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – List of text strings to add to the pipeline.</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em><em>] </em><em>| </em><em>None</em>) – Optional list of metadata dictionaries, one for each text.
If provided, must have the same length as texts. If not provided,
empty metadata will be used for all texts.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<section id="id21">
<h4>Examples:<a class="headerlink" href="#id21" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Add texts</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_texts</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;Some text here.&quot;</span><span class="p">,</span> <span class="s2">&quot;Another piece of text.&quot;</span><span class="p">],</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;text_source_1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;text_source_2&quot;</span><span class="p">}],</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.RAGPipeline.query">
<span class="sig-name descname"><span class="pre">query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#RAGPipeline.query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.RAGPipeline.query" title="Link to this definition"></a></dt>
<dd><p>Process a query through the RAG pipeline to generate an answer.</p>
<p>This method implements the core RAG workflow:
1. Retrieves relevant documents using the retrieval strategy
2. Passes the question and retrieved documents to the LLM
3. Returns the generated answer</p>
<p>The quality of the answer depends on:
- The relevance of the retrieved documents
- The capabilities of the LLM
- The pre-processing of documents (chunking)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>question</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The query/question to answer. This can be a natural
language question, a statement, or any text that requires
a response based on the stored documents.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The generated answer to the question.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
<section id="id22">
<h4>Examples:<a class="headerlink" href="#id22" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and populate a pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_texts</span><span class="p">([</span><span class="s2">&quot;Paris is the capital of France.&quot;</span><span class="p">])</span>

<span class="c1"># Query the pipeline</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;What is the capital of France?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>
<span class="c1"># Output might be: &quot;Paris is the capital of France.&quot;</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.RAGPipeline.query_with_sources">
<span class="sig-name descname"><span class="pre">query_with_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#RAGPipeline.query_with_sources"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.RAGPipeline.query_with_sources" title="Link to this definition"></a></dt>
<dd><p>Process a query and return both the answer and source documents.</p>
<p>Similar to query(), but also returns the source documents used
to generate the answer, enabling citation and verification. This
is useful for:
- Providing attribution for information
- Allowing users to verify the sources
- Debugging the RAG pipeline’s retrieval performance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>question</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The query/question to answer. This can be a natural
language question, a statement, or any text that requires
a response based on the stored documents.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>‘answer’: The generated response as a string</p></li>
<li><p>’sources’: List of Document objects used to generate the answer</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary containing</p>
</dd>
</dl>
<section id="id23">
<h4>Examples:<a class="headerlink" href="#id23" title="Link to this heading"></a></h4>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and populate a pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_texts</span><span class="p">([</span><span class="s2">&quot;The Eiffel Tower is in Paris.&quot;</span><span class="p">])</span>

<span class="c1"># Query the pipeline and get sources</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">query_with_sources</span><span class="p">(</span><span class="s2">&quot;Where is the Eiffel Tower?&quot;</span><span class="p">)</span>

<span class="c1"># Print the answer</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;answer&quot;</span><span class="p">])</span>  <span class="c1"># &quot;The Eiffel Tower is in Paris.&quot;</span>

<span class="c1"># Print the sources</span>
<span class="k">for</span> <span class="n">source_doc</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;sources&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">source_doc</span><span class="o">.</span><span class="n">page_content</span><span class="p">,</span> <span class="n">source_doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

</section>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunking_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.ChunkingStrategyInterface" title="ragflow.core.interfaces.ChunkingStrategyInterface"><em>ChunkingStrategyInterface</em></a>)</p></li>
<li><p><strong>embedding_model</strong> (<a class="reference internal" href="#ragflow.core.interfaces.EmbeddingModelInterface" title="ragflow.core.interfaces.EmbeddingModelInterface"><em>EmbeddingModelInterface</em></a>)</p></li>
<li><p><strong>vector_store</strong> (<a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface" title="ragflow.core.interfaces.VectorStoreInterface"><em>VectorStoreInterface</em></a>)</p></li>
<li><p><strong>retrieval_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.RetrievalStrategyInterface" title="ragflow.core.interfaces.RetrievalStrategyInterface"><em>RetrievalStrategyInterface</em></a>)</p></li>
<li><p><strong>llm</strong> (<a class="reference internal" href="#ragflow.core.interfaces.LLMInterface" title="ragflow.core.interfaces.LLMInterface"><em>LLMInterface</em></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragflow.core.pipeline.AgenticRAGPipeline">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.pipeline.</span></span><span class="sig-name descname"><span class="pre">AgenticRAGPipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator_llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retrieval_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunking_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#AgenticRAGPipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.AgenticRAGPipeline" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.pipeline.RAGPipeline" title="ragflow.core.pipeline.RAGPipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGPipeline</span></code></a></p>
<p>An agentic RAG pipeline that uses an LLM-based agent.</p>
<p>An agentic RAG pipeline that uses an LLM-based agent to decide when to retrieve
documents, rewrite queries, and generate answers.</p>
<p>This pipeline follows a more dynamic flow based on the agent’s decisions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_llm</strong> (<a class="reference internal" href="#ragflow.core.interfaces.LLMInterface" title="ragflow.core.interfaces.LLMInterface"><em>LLMInterface</em></a>)</p></li>
<li><p><strong>generator_llm</strong> (<a class="reference internal" href="#ragflow.core.interfaces.LLMInterface" title="ragflow.core.interfaces.LLMInterface"><em>LLMInterface</em></a>)</p></li>
<li><p><strong>retrieval_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.RetrievalStrategyInterface" title="ragflow.core.interfaces.RetrievalStrategyInterface"><em>RetrievalStrategyInterface</em></a>)</p></li>
<li><p><strong>chunking_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.ChunkingStrategyInterface" title="ragflow.core.interfaces.ChunkingStrategyInterface"><em>ChunkingStrategyInterface</em></a><em> | </em><em>None</em>)</p></li>
<li><p><strong>embedding_model</strong> (<a class="reference internal" href="#ragflow.core.interfaces.EmbeddingModelInterface" title="ragflow.core.interfaces.EmbeddingModelInterface"><em>EmbeddingModelInterface</em></a><em> | </em><em>None</em>)</p></li>
<li><p><strong>vector_store</strong> (<a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface" title="ragflow.core.interfaces.VectorStoreInterface"><em>VectorStoreInterface</em></a><em> | </em><em>None</em>)</p></li>
<li><p><strong>max_iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.AgenticRAGPipeline.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator_llm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retrieval_strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunking_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#AgenticRAGPipeline.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.AgenticRAGPipeline.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the AgenticRAGPipeline with the given components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_llm</strong> (<a class="reference internal" href="#ragflow.core.interfaces.LLMInterface" title="ragflow.core.interfaces.LLMInterface"><em>LLMInterface</em></a>) – The LLM used for decision-making and query generation.</p></li>
<li><p><strong>generator_llm</strong> (<a class="reference internal" href="#ragflow.core.interfaces.LLMInterface" title="ragflow.core.interfaces.LLMInterface"><em>LLMInterface</em></a>) – The LLM used for final answer generation.</p></li>
<li><p><strong>retrieval_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.RetrievalStrategyInterface" title="ragflow.core.interfaces.RetrievalStrategyInterface"><em>RetrievalStrategyInterface</em></a>) – The strategy for retrieving relevant documents.</p></li>
<li><p><strong>chunking_strategy</strong> (<a class="reference internal" href="#ragflow.core.interfaces.ChunkingStrategyInterface" title="ragflow.core.interfaces.ChunkingStrategyInterface"><em>ChunkingStrategyInterface</em></a><em> | </em><em>None</em>) – The strategy for chunking documents.</p></li>
<li><p><strong>embedding_model</strong> (<a class="reference internal" href="#ragflow.core.interfaces.EmbeddingModelInterface" title="ragflow.core.interfaces.EmbeddingModelInterface"><em>EmbeddingModelInterface</em></a><em> | </em><em>None</em>) – The embedding model for generating document embeddings.</p></li>
<li><p><strong>vector_store</strong> (<a class="reference internal" href="#ragflow.core.interfaces.VectorStoreInterface" title="ragflow.core.interfaces.VectorStoreInterface"><em>VectorStoreInterface</em></a><em> | </em><em>None</em>) – The vector store for storing document embeddings.</p></li>
<li><p><strong>max_iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The maximum number of iterations for the agentic loop.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.AgenticRAGPipeline.query">
<span class="sig-name descname"><span class="pre">query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#AgenticRAGPipeline.query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.AgenticRAGPipeline.query" title="Link to this definition"></a></dt>
<dd><p>Processes a query using the agentic loop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>question</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The user’s question.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The generated answer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.AgenticRAGPipeline.query_with_sources">
<span class="sig-name descname"><span class="pre">query_with_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/pipeline.html#AgenticRAGPipeline.query_with_sources"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.pipeline.AgenticRAGPipeline.query_with_sources" title="Link to this definition"></a></dt>
<dd><p>Processes a query using the agentic loop and returns answer with sources and history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>question</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.AgenticRAGPipeline.add_documents">
<span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.pipeline.AgenticRAGPipeline.add_documents" title="Link to this definition"></a></dt>
<dd><p>Process and add documents to the pipeline.</p>
<p>This method handles the complete document ingestion process:
1. Splits the documents into smaller chunks using the configured chunking strategy
2. Generates embeddings for these chunks using the embedding model
3. Adds the chunks and their embeddings to the vector store</p>
<p>This prepares the documents for later retrieval when answering queries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>documents</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference internal" href="#ragflow.core.interfaces.Document" title="ragflow.core.interfaces.Document"><em>Document</em></a><em>]</em>) – List of Document objects to add to the pipeline.
Each Document should have page_content (text) and optional
metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<section id="id24">
<h3>Examples:<a class="headerlink" href="#id24" title="Link to this heading"></a></h3>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Create Document objects</span>
<span class="n">documents</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Document</span><span class="p">(</span>
        <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;RAGFlow is a framework for building RAG applications.&quot;</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;introduction.txt&quot;</span><span class="p">},</span>
    <span class="p">),</span>
    <span class="n">Document</span><span class="p">(</span>
        <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;Vector stores enable efficient similarity search.&quot;</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;concepts.txt&quot;</span><span class="p">},</span>
    <span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Add documents to the pipeline</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.pipeline.AgenticRAGPipeline.add_texts">
<span class="sig-name descname"><span class="pre">add_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.pipeline.AgenticRAGPipeline.add_texts" title="Link to this definition"></a></dt>
<dd><p>Process and add text strings to the pipeline.</p>
<p>This is a convenience method that:
1. Converts texts to Document objects (with optional metadata)
2. Splits them into smaller chunks
3. Adds those chunks to the vector store</p>
<p>It’s a simpler alternative to creating Document objects manually
when you have raw text strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – List of text strings to add to the pipeline.</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em><em>] </em><em>| </em><em>None</em>) – Optional list of metadata dictionaries, one for each text.
If provided, must have the same length as texts. If not provided,
empty metadata will be used for all texts.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<section id="id25">
<h3>Examples:<a class="headerlink" href="#id25" title="Link to this heading"></a></h3>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">RAGPipeline</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Add texts</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_texts</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;Some text here.&quot;</span><span class="p">,</span> <span class="s2">&quot;Another piece of text.&quot;</span><span class="p">],</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;text_source_1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;text_source_2&quot;</span><span class="p">}],</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
</dd></dl>

</dd></dl>

</section>
<section id="module-ragflow.core.errors">
<span id="error-handling"></span><h2>Error Handling<a class="headerlink" href="#module-ragflow.core.errors" title="Link to this heading"></a></h2>
<p>Error classes for RAGFlow.</p>
<p>This module defines a hierarchy of exception classes used throughout the RAGFlow library,
providing clear and informative error messages for common failure scenarios.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.RAGFlowError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">RAGFlowError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#RAGFlowError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.RAGFlowError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Base exception class for all RAGFlow-related errors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.RAGFlowError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.RAGFlowError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.RAGFlowError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.RAGFlowError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.RAGFlowError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.RAGFlowError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.ConfigurationError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">ConfigurationError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#ConfigurationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.ConfigurationError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when there’s an issue with component or pipeline configuration.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.ConfigurationError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.ConfigurationError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.ConfigurationError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.ConfigurationError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.ConfigurationError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.ConfigurationError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.VectorStoreError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">VectorStoreError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#VectorStoreError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.VectorStoreError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when operations with the vector store fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.VectorStoreError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.VectorStoreError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.VectorStoreError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.VectorStoreError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.VectorStoreError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.VectorStoreError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.EmbeddingError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">EmbeddingError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#EmbeddingError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.EmbeddingError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when embedding generation fails.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.EmbeddingError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.EmbeddingError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.EmbeddingError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.EmbeddingError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.EmbeddingError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.EmbeddingError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.LLMError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">LLMError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#LLMError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.LLMError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when LLM interaction fails.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.LLMError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.LLMError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.LLMError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.LLMError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.LLMError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.LLMError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.ChunkingError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">ChunkingError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#ChunkingError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.ChunkingError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when document chunking fails.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.ChunkingError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.ChunkingError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.ChunkingError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.ChunkingError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.ChunkingError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.ChunkingError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.RetrievalError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">RetrievalError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#RetrievalError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.RetrievalError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when document retrieval fails.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.RetrievalError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.RetrievalError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.RetrievalError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.RetrievalError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.RetrievalError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.RetrievalError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.MissingDependencyError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">MissingDependencyError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dependency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">installation_guide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/errors.html#MissingDependencyError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.MissingDependencyError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when a required dependency is missing.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.MissingDependencyError.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dependency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">installation_guide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/errors.html#MissingDependencyError.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.MissingDependencyError.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a MissingDependencyError.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dependency</strong> – The name of the missing dependency</p></li>
<li><p><strong>installation_guide</strong> – Optional installation instructions</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.MissingDependencyError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.MissingDependencyError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.MissingDependencyError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.MissingDependencyError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.MissingDependencyError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.MissingDependencyError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.APIKeyError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">APIKeyError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/errors.html#APIKeyError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.APIKeyError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.ConfigurationError" title="ragflow.core.errors.ConfigurationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigurationError</span></code></a></p>
<p>Raised when an API key is missing or invalid.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.APIKeyError.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ragflow/core/errors.html#APIKeyError.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.APIKeyError.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize an APIKeyError.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api_name</strong> – The name of the API</p></li>
<li><p><strong>env_var</strong> – The environment variable that should contain the API key</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.APIKeyError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.APIKeyError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.APIKeyError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.APIKeyError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.APIKeyError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.APIKeyError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.InvalidArgumentError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">InvalidArgumentError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#InvalidArgumentError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.InvalidArgumentError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.ConfigurationError" title="ragflow.core.errors.ConfigurationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigurationError</span></code></a></p>
<p>Raised when an invalid argument is provided to a function or method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.InvalidArgumentError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.InvalidArgumentError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.InvalidArgumentError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.InvalidArgumentError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.InvalidArgumentError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.InvalidArgumentError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="ragflow.core.errors.DocumentProcessingError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragflow.core.errors.</span></span><span class="sig-name descname"><span class="pre">DocumentProcessingError</span></span><a class="reference internal" href="../_modules/ragflow/core/errors.html#DocumentProcessingError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragflow.core.errors.DocumentProcessingError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ragflow.core.errors.RAGFlowError" title="ragflow.core.errors.RAGFlowError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RAGFlowError</span></code></a></p>
<p>Raised when processing documents fails.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.DocumentProcessingError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.DocumentProcessingError.add_note" title="Link to this definition"></a></dt>
<dd><p>Exception.add_note(note) –
add a note to the exception</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragflow.core.errors.DocumentProcessingError.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ragflow.core.errors.DocumentProcessingError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ragflow.core.errors.DocumentProcessingError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ragflow.core.errors.DocumentProcessingError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../tutorials/document_loading.html" class="btn btn-neutral float-left" title="Document Loading Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pipelines.html" class="btn btn-neutral float-right" title="Pipelines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, RAGFlow Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>